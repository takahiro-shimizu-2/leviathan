intent_id: create_spec_document
version: 0.1.0
description: "要件からMVP仕様書を作成する"
inputs:
  - name: user_query
    type: string
steps:
  - "ユーザー要求の要素分解"
  - "仕様テンプレートへマッピング"
  - "不足点の補完と成否条件の定義"
tools:
  - "filesystem:read"
  - "writer:markdown"
constraints:
  max_time_sec: 300
  forbidden: ["外部ネットワークアクセス"]
success_criteria:
  - "SPEC.md が生成される"
  - "以下の節がすべて含まれる: 目的, 非目標, 機能一覧, ユースケース, 画面要件, API 仕様, データモデル, 受入条件"
  - "API 仕様の表に Method と Path 列が存在する"
  - "データモデルにエンティティ定義が3件以上、各に属性が3件以上"
  - "ユースケースが3件以上（各に基本フロー/代替フロー/例外が記載）"
  - "受入条件が3件以上"
agent_requirements:
  - "spec_generation"
  - "markdown_writer"
outputs:
  - path: "runs/{run_id}/SPEC.md"
